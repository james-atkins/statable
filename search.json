[{"path":"https://statable.jamesatkins.com/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 James Atkins Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://statable.jamesatkins.com/articles/statable.html","id":"finding-stata","dir":"Articles","previous_headings":"","what":"Finding Stata","title":"Introduction to statable","text":"order run, statable needs path Stata executable. find path automatically, can specify using stata_path(). function may also useful multiple versions Stata installed want run older version.","code":"# For example on Windows stata_path(\"C:/Program Files/Stata18/StataSE-64.exe\")  # or on Mac stata_path(\"/Applications/Stata/StataSE.app/Contents/MacOS/stata-se\")  # or on Linux stata_path(\"/opt/stata18/stata-mp\")"},{"path":"https://statable.jamesatkins.com/articles/statable.html","id":"running-commands","dir":"Articles","previous_headings":"","what":"Running Commands","title":"Introduction to statable","text":"run Stata command R, simply use stata_run() function. can pass single Stata command function vector commands. See second set commands used auto dataset loaded first command. works , default, stata_run() uses Stata session every time run command. means data results stay one place, allowing easily build previous commands. needed, can also run multiple Stata sessions time users can use statable without worrying session management.","code":"stata_run(\"sysuse auto\") stata_run(c(\"summarize\", \"regress price length weight\"))"},{"path":[]},{"path":"https://statable.jamesatkins.com/articles/statable.html","id":"functions","dir":"Articles","previous_headings":"Transferring Data","what":"Functions","title":"Introduction to statable","text":"statable makes easy transfer datasets R Stata. useful want use Stata’s powerful statistical capabilities data initially cleaned tidied R. pass data R Stata, use function stata_data_in(). function takes R data frame sends Stata session working . Behind scenes, stata_data_in() exports R data frame .dta file using haven::write_dta function. Similarly, working dataset Stata want bring data back R, use function stata_data_out(). function retrieves current dataset active Stata session returns data frame.","code":"data(\"mtcars\")  stata_data_in(mtcars, clear = TRUE) stata_run(\"summarize\")  stata_run(\"rename mpg miles_per_gallon\") mtcars_stata <- stata_data_out()  mean(mtcars_stata$miles_per_gallon)"},{"path":"https://statable.jamesatkins.com/articles/statable.html","id":"magic-macros","dir":"Articles","previous_headings":"Transferring Data","what":"Magic Macros","title":"Introduction to statable","text":"addition direct data transfer functions, statable provides general way work data R Stata using global macros. Stata, global macros form $R_dataframe_name used reference R data frames. create global macro format, statable automatically exports specified R data frame .dta file, file format used Stata datasets. value global macro set path .dta file. functionality allows seamlessly use R data frames variety Stata commands require path dataset, merge, joinby, append. example, following code, $R_mtcars references R data frame called mtcars Stata, allowing use append . Note:  R allows variable names column names dots allowed Stata. rename first.","code":"# statable sets the gloal R_mtcars to be equal to the path of a dta file # containing the data frame mtcars. stata_run(\"use $R_mtcars, clear\") stata_run(\"summarize\") stata_run(\"display _N\")  stata_run(\"append using $R_mtcars\") stata_run(\"display _N\")"},{"path":"https://statable.jamesatkins.com/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"James Atkins. Author, maintainer.","code":""},{"path":"https://statable.jamesatkins.com/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Atkins J (2024). statable: Run Stata Commands R. R package version 0.1.0, https://github.com/james-atkins/statable, https://statable.jamesatkins.com.","code":"@Manual{,   title = {statable: Run Stata Commands from R},   author = {James Atkins},   year = {2024},   note = {R package version 0.1.0, https://github.com/james-atkins/statable},   url = {https://statable.jamesatkins.com}, }"},{"path":"https://statable.jamesatkins.com/index.html","id":"statable---run-stata-from-r","dir":"","previous_headings":"","what":"Run Stata Commands from R","title":"Run Stata Commands from R","text":"statable R interface Stata allows combine strengths R Stata one seamless workflow. can prepare manipulate data R, quickly switch Stata perform specialised analyses, without leaving R environment. integration streamlines work, saves time reduces need manually transfer data software. statable provides following functionality: Run Stata commands R Transfer datasets R Stata Run Stata “chunks” knitr R Markdown documents Work multiple Stata sessions time","code":""},{"path":"https://statable.jamesatkins.com/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Run Stata Commands from R","text":"statable currently CRAN. can install development version GitHub :","code":"# install.packages(\"pak\") pak::pak(\"james-atkins/statable\")"},{"path":"https://statable.jamesatkins.com/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Run Stata Commands from R","text":"information, please read documentation.","code":"# First, load the package. All statable commands start with `stata_`. library(statable)  # statable should find Stata automatically but, if necessary, you can # manually set the path to the Stata executable # stata_path(\"C:/Program Files/Stata18/StataSE-64.exe\")  # `stata_run()` runs Stata commands in the same session. # All your data and results stay in one place, allowing you to easily build on # your previous commands. stata_run(\"sysuse auto\") #> . sysuse auto #> (1978 Automobile Data) stata_run(c(\"summarize\", \"regress price length weight\")) #> . summarize #>  #>     Variable |        Obs        Mean    Std. Dev.       Min        Max #> -------------+--------------------------------------------------------- #>         make |          0 #>        price |         74    6165.257    2949.496       3291      15906 #>          mpg |         74     21.2973    5.785503         12         41 #>        rep78 |         69    3.405797    .9899323          1          5 #>     headroom |         74    2.993243    .8459948        1.5          5 #> -------------+--------------------------------------------------------- #>        trunk |         74    13.75676    4.277404          5         23 #>       weight |         74    3019.459    777.1936       1760       4840 #>       length |         74    187.9324    22.26634        142        233 #>         turn |         74    39.64865    4.399354         31         51 #> displacement |         74    197.2973    91.83722         79        425 #> -------------+--------------------------------------------------------- #>   gear_ratio |         74    3.014865    .4562871       2.19       3.89 #>      foreign |         74    .2972973    .4601885          0          1 #> . regress price length weight #>  #>       Source |       SS           df       MS      Number of obs   =        74 #> -------------+----------------------------------   F(2, 71)        =     18.91 #>        Model |   220725280         2   110362640   Prob > F        =    0.0000 #>     Residual |   414340116        71  5835776.28   R-squared       =    0.3476 #> -------------+----------------------------------   Adj R-squared   =    0.3292 #>        Total |   635065396        73  8699525.97   Root MSE        =    2415.7 #>  #> ------------------------------------------------------------------------------ #>        price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval] #> -------------+---------------------------------------------------------------- #>       length |  -97.96031    39.1746    -2.50   0.015    -176.0722   -19.84838 #>       weight |   4.699065   1.122339     4.19   0.000     2.461184    6.936946 #>        _cons |   10386.54   4308.159     2.41   0.019     1796.316    18976.76 #> ------------------------------------------------------------------------------  # To pass data from R to Stata, you can use the function `stata_data_in()` data(\"mtcars\") stata_data_in(mtcars, clear = TRUE) #> . use \"$R_data_frame\", clear stata_run(\"describe\") #> . describe #>  #> Contains data from /tmp/RtmpbSZnLo/statableab3f8474947a6/data_frameab3f833a5346 #> > 9.dta #>   obs:            32                           #>  vars:            11                          24 Aug 2024 12:48 #> ------------------------------------------------------------------------------- #>               storage   display    value #> variable name   type    format     label      variable label #> ------------------------------------------------------------------------------- #> mpg             double  %10.0g                 #> cyl             double  %10.0g                 #> disp            double  %10.0g                 #> hp              double  %10.0g                 #> drat            double  %10.0g                 #> wt              double  %10.0g                 #> qsec            double  %10.0g                 #> vs              double  %10.0g                 #> am              double  %10.0g                 #> gear            double  %10.0g                 #> carb            double  %10.0g                 #> ------------------------------------------------------------------------------- #> Sorted by:  # Likewise, `stata_data_out()` returns the current Stata dataset into R stata_run(\"rename mpg miles_per_gallon\") #> . rename mpg miles_per_gallon mtcars_stata <- stata_data_out() #> . save \"/tmp/RtmpbSZnLo/statableab3f8474947a6/stataab3f87a311d3a.dta\" #> file /tmp/RtmpbSZnLo/statableab3f8474947a6/stataab3f87a311d3a.dta saved mean(mtcars_stata$miles_per_gallon) #> [1] 20.09062  # You can also reference R data frames using Stata globals of the form # `$R_dataframe_name`. # This allows you to use data in R with a variety of Stata commands, such as # `merge`, `joinby` or `append`. stata_run(\"use $R_mtcars, clear\") #> . use $R_mtcars, clear stata_run(\"summarize\") #> . summarize #>  #>     Variable |        Obs        Mean    Std. Dev.       Min        Max #> -------------+--------------------------------------------------------- #>          mpg |         32    20.09062    6.026948       10.4       33.9 #>          cyl |         32      6.1875    1.785922          4          8 #>         disp |         32    230.7219    123.9387       71.1        472 #>           hp |         32    146.6875    68.56287         52        335 #>         drat |         32    3.596563    .5346787       2.76       4.93 #> -------------+--------------------------------------------------------- #>           wt |         32     3.21725    .9784574      1.513      5.424 #>         qsec |         32    17.84875    1.786943       14.5       22.9 #>           vs |         32       .4375    .5040161          0          1 #>           am |         32      .40625    .4989909          0          1 #>         gear |         32      3.6875    .7378041          3          5 #> -------------+--------------------------------------------------------- #>         carb |         32      2.8125      1.6152          1          8 stata_run(\"append using $R_mtcars\") #> . append using $R_mtcars stata_run(\"display _N\") #> . display _N #> 64"},{"path":"https://statable.jamesatkins.com/index.html","id":"knitr","dir":"","previous_headings":"","what":"knitr","title":"Run Stata Commands from R","text":"statable integrates knitr allowing run Stata code chunks knitr rmarkdown documents. , must first import package library(statable) knitr knows stata chunks. add chunk like following.","code":"```{stata} use $R_mtcars, clear summarize ```"},{"path":"https://statable.jamesatkins.com/reference/stata_close_session.html","id":null,"dir":"Reference","previous_headings":"","what":"Close a Stata session — stata_close_session","title":"Close a Stata session — stata_close_session","text":"Close Stata session","code":""},{"path":"https://statable.jamesatkins.com/reference/stata_close_session.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Close a Stata session — stata_close_session","text":"","code":"stata_close_session(session = stata_default_session())"},{"path":"https://statable.jamesatkins.com/reference/stata_close_session.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Close a Stata session — stata_close_session","text":"session Stata session close","code":""},{"path":"https://statable.jamesatkins.com/reference/stata_data_in.html","id":null,"dir":"Reference","previous_headings":"","what":"Transfer data from R to Stata — stata_data_in","title":"Transfer data from R to Stata — stata_data_in","text":"Transfer data R Stata","code":""},{"path":"https://statable.jamesatkins.com/reference/stata_data_in.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transfer data from R to Stata — stata_data_in","text":"","code":"stata_data_in(data_frame, clear = FALSE, session = stata_default_session())"},{"path":"https://statable.jamesatkins.com/reference/stata_data_in.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transfer data from R to Stata — stata_data_in","text":"data_frame data frame loaded Stata clear Whether replace data set already Stata session Stata session load data set ","code":""},{"path":"https://statable.jamesatkins.com/reference/stata_data_out.html","id":null,"dir":"Reference","previous_headings":"","what":"Transfer data from Stata to R — stata_data_out","title":"Transfer data from Stata to R — stata_data_out","text":"Transfer data Stata R","code":""},{"path":"https://statable.jamesatkins.com/reference/stata_data_out.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transfer data from Stata to R — stata_data_out","text":"","code":"stata_data_out(session = stata_default_session())"},{"path":"https://statable.jamesatkins.com/reference/stata_data_out.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transfer data from Stata to R — stata_data_out","text":"session Stata session read data set ","code":""},{"path":"https://statable.jamesatkins.com/reference/stata_data_out.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Transfer data from Stata to R — stata_data_out","text":"data.frame containing current Stata data set","code":""},{"path":"https://statable.jamesatkins.com/reference/stata_default_session.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the default Stata session — stata_default_session","title":"Get the default Stata session — stata_default_session","text":"Returns default Stata session. started already running.","code":""},{"path":"https://statable.jamesatkins.com/reference/stata_default_session.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the default Stata session — stata_default_session","text":"","code":"stata_default_session()"},{"path":"https://statable.jamesatkins.com/reference/stata_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get or set the path to the Stata executable — stata_path","title":"Get or set the path to the Stata executable — stata_path","text":"Get set path Stata executable","code":""},{"path":"https://statable.jamesatkins.com/reference/stata_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get or set the path to the Stata executable — stata_path","text":"","code":"stata_path(path = rlang::missing_arg())"},{"path":"https://statable.jamesatkins.com/reference/stata_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get or set the path to the Stata executable — stata_path","text":"path path Stata executable","code":""},{"path":"https://statable.jamesatkins.com/reference/stata_run.html","id":null,"dir":"Reference","previous_headings":"","what":"Run a Stata command — stata_run","title":"Run a Stata command — stata_run","text":"Run Stata command","code":""},{"path":"https://statable.jamesatkins.com/reference/stata_run.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run a Stata command — stata_run","text":"","code":"stata_run(commands, session = stata_default_session(), env = caller_env())"},{"path":"https://statable.jamesatkins.com/reference/stata_run.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run a Stata command — stata_run","text":"commands vector Stata commands run session Stata session run commands env R environment look data frames transfer Stata","code":""},{"path":"https://statable.jamesatkins.com/reference/stata_start_session.html","id":null,"dir":"Reference","previous_headings":"","what":"Start a new session of Stata running in batch mode — stata_start_session","title":"Start a new session of Stata running in batch mode — stata_start_session","text":"Start new session Stata running batch mode","code":""},{"path":"https://statable.jamesatkins.com/reference/stata_start_session.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Start a new session of Stata running in batch mode — stata_start_session","text":"","code":"stata_start_session(path = stata_path())"},{"path":"https://statable.jamesatkins.com/reference/stata_start_session.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Start a new session of Stata running in batch mode — stata_start_session","text":"path path Stata executable","code":""},{"path":"https://statable.jamesatkins.com/reference/statable-package.html","id":null,"dir":"Reference","previous_headings":"","what":"statable: Run Stata Commands from R — statable-package","title":"statable: Run Stata Commands from R — statable-package","text":"R Stata interface allows Stata commands executed within R. Data sets can easily transferred R Stata, Stata estimation results can returned R.","code":""},{"path":[]},{"path":"https://statable.jamesatkins.com/reference/statable-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"statable: Run Stata Commands from R — statable-package","text":"Maintainer: James Atkins james@jamesatkins.com","code":""}]
