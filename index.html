<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Run Stata Commands from R • statable</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Run Stata Commands from R">
<meta name="description" content="An R to Stata interface that allows Stata commands to be executed from within R. Data sets can easily be transferred between R and Stata, and Stata estimation results can be returned to R.">
<meta property="og:description" content="An R to Stata interface that allows Stata commands to be executed from within R. Data sets can easily be transferred between R and Stata, and Stata estimation results can be returned to R.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">statable</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/statable.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/james-atkins/statable/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="statable---run-stata-from-r">statable - Run Stata from R<a class="anchor" aria-label="anchor" href="#statable---run-stata-from-r"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>statable is an R interface to Stata that allows you to combine the strengths of both R and Stata into one seamless workflow. You can prepare and manipulate your data in R, then quickly switch to Stata to perform specialised analyses, all without leaving your R environment. This integration streamlines your work, saves time and reduces the need to manually transfer data between software.</p>
<p>statable provides the following functionality:</p>
<ul>
<li>Run Stata commands from R</li>
<li>Transfer datasets between R and Stata</li>
<li>Run Stata “chunks” in knitr or R Markdown documents</li>
<li>Work with multiple Stata sessions at the same time</li>
</ul>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p><code>statable</code> is not currently on CRAN. You can install the development version from <a href="https://github.com/james-atkins/statable" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"james-atkins/statable"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>For more information, please read the <a href="https://statable.jamesatkins.com">documentation</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># First, load the package. All statable commands start with `stata_`.</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://statable.jamesatkins.com">statable</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># statable should find Stata automatically but, if necessary, you can</span></span>
<span><span class="co"># manually set the path to the Stata executable</span></span>
<span><span class="co"># stata_path("C:/Program Files/Stata18/StataSE-64.exe")</span></span>
<span></span>
<span><span class="co"># `stata_run()` runs Stata commands in the same session.</span></span>
<span><span class="co"># All your data and results stay in one place, allowing you to easily build on</span></span>
<span><span class="co"># your previous commands.</span></span>
<span><span class="fu"><a href="reference/stata_run.html">stata_run</a></span><span class="op">(</span><span class="st">"sysuse auto"</span><span class="op">)</span></span>
<span><span class="co">#&gt; . sysuse auto</span></span>
<span><span class="co">#&gt; (1978 Automobile Data)</span></span>
<span><span class="fu"><a href="reference/stata_run.html">stata_run</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"summarize"</span>, <span class="st">"regress price length weight"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; . summarize</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     Variable |        Obs        Mean    Std. Dev.       Min        Max</span></span>
<span><span class="co">#&gt; -------------+---------------------------------------------------------</span></span>
<span><span class="co">#&gt;         make |          0</span></span>
<span><span class="co">#&gt;        price |         74    6165.257    2949.496       3291      15906</span></span>
<span><span class="co">#&gt;          mpg |         74     21.2973    5.785503         12         41</span></span>
<span><span class="co">#&gt;        rep78 |         69    3.405797    .9899323          1          5</span></span>
<span><span class="co">#&gt;     headroom |         74    2.993243    .8459948        1.5          5</span></span>
<span><span class="co">#&gt; -------------+---------------------------------------------------------</span></span>
<span><span class="co">#&gt;        trunk |         74    13.75676    4.277404          5         23</span></span>
<span><span class="co">#&gt;       weight |         74    3019.459    777.1936       1760       4840</span></span>
<span><span class="co">#&gt;       length |         74    187.9324    22.26634        142        233</span></span>
<span><span class="co">#&gt;         turn |         74    39.64865    4.399354         31         51</span></span>
<span><span class="co">#&gt; displacement |         74    197.2973    91.83722         79        425</span></span>
<span><span class="co">#&gt; -------------+---------------------------------------------------------</span></span>
<span><span class="co">#&gt;   gear_ratio |         74    3.014865    .4562871       2.19       3.89</span></span>
<span><span class="co">#&gt;      foreign |         74    .2972973    .4601885          0          1</span></span>
<span><span class="co">#&gt; . regress price length weight</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;       Source |       SS           df       MS      Number of obs   =        74</span></span>
<span><span class="co">#&gt; -------------+----------------------------------   F(2, 71)        =     18.91</span></span>
<span><span class="co">#&gt;        Model |   220725280         2   110362640   Prob &gt; F        =    0.0000</span></span>
<span><span class="co">#&gt;     Residual |   414340116        71  5835776.28   R-squared       =    0.3476</span></span>
<span><span class="co">#&gt; -------------+----------------------------------   Adj R-squared   =    0.3292</span></span>
<span><span class="co">#&gt;        Total |   635065396        73  8699525.97   Root MSE        =    2415.7</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ------------------------------------------------------------------------------</span></span>
<span><span class="co">#&gt;        price |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]</span></span>
<span><span class="co">#&gt; -------------+----------------------------------------------------------------</span></span>
<span><span class="co">#&gt;       length |  -97.96031    39.1746    -2.50   0.015    -176.0722   -19.84838</span></span>
<span><span class="co">#&gt;       weight |   4.699065   1.122339     4.19   0.000     2.461184    6.936946</span></span>
<span><span class="co">#&gt;        _cons |   10386.54   4308.159     2.41   0.019     1796.316    18976.76</span></span>
<span><span class="co">#&gt; ------------------------------------------------------------------------------</span></span>
<span></span>
<span><span class="co"># To pass data from R to Stata, you can use the function `stata_data_in()`</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"mtcars"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/stata_data_in.html">stata_data_in</a></span><span class="op">(</span><span class="va">mtcars</span>, clear <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; . use "$R_data_frame", clear</span></span>
<span><span class="fu"><a href="reference/stata_run.html">stata_run</a></span><span class="op">(</span><span class="st">"describe"</span><span class="op">)</span></span>
<span><span class="co">#&gt; . describe</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Contains data from /tmp/RtmpbSZnLo/statableab3f8474947a6/data_frameab3f833a5346</span></span>
<span><span class="co">#&gt; &gt; 9.dta</span></span>
<span><span class="co">#&gt;   obs:            32                          </span></span>
<span><span class="co">#&gt;  vars:            11                          24 Aug 2024 12:48</span></span>
<span><span class="co">#&gt; -------------------------------------------------------------------------------</span></span>
<span><span class="co">#&gt;               storage   display    value</span></span>
<span><span class="co">#&gt; variable name   type    format     label      variable label</span></span>
<span><span class="co">#&gt; -------------------------------------------------------------------------------</span></span>
<span><span class="co">#&gt; mpg             double  %10.0g                </span></span>
<span><span class="co">#&gt; cyl             double  %10.0g                </span></span>
<span><span class="co">#&gt; disp            double  %10.0g                </span></span>
<span><span class="co">#&gt; hp              double  %10.0g                </span></span>
<span><span class="co">#&gt; drat            double  %10.0g                </span></span>
<span><span class="co">#&gt; wt              double  %10.0g                </span></span>
<span><span class="co">#&gt; qsec            double  %10.0g                </span></span>
<span><span class="co">#&gt; vs              double  %10.0g                </span></span>
<span><span class="co">#&gt; am              double  %10.0g                </span></span>
<span><span class="co">#&gt; gear            double  %10.0g                </span></span>
<span><span class="co">#&gt; carb            double  %10.0g                </span></span>
<span><span class="co">#&gt; -------------------------------------------------------------------------------</span></span>
<span><span class="co">#&gt; Sorted by:</span></span>
<span></span>
<span><span class="co"># Likewise, `stata_data_out()` returns the current Stata dataset into R</span></span>
<span><span class="fu"><a href="reference/stata_run.html">stata_run</a></span><span class="op">(</span><span class="st">"rename mpg miles_per_gallon"</span><span class="op">)</span></span>
<span><span class="co">#&gt; . rename mpg miles_per_gallon</span></span>
<span><span class="va">mtcars_stata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/stata_data_out.html">stata_data_out</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; . save "/tmp/RtmpbSZnLo/statableab3f8474947a6/stataab3f87a311d3a.dta"</span></span>
<span><span class="co">#&gt; file /tmp/RtmpbSZnLo/statableab3f8474947a6/stataab3f87a311d3a.dta saved</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mtcars_stata</span><span class="op">$</span><span class="va">miles_per_gallon</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 20.09062</span></span>
<span></span>
<span><span class="co"># You can also reference R data frames using Stata globals of the form</span></span>
<span><span class="co"># `$R_dataframe_name`.</span></span>
<span><span class="co"># This allows you to use data in R with a variety of Stata commands, such as</span></span>
<span><span class="co"># `merge`, `joinby` or `append`.</span></span>
<span><span class="fu"><a href="reference/stata_run.html">stata_run</a></span><span class="op">(</span><span class="st">"use $R_mtcars, clear"</span><span class="op">)</span></span>
<span><span class="co">#&gt; . use $R_mtcars, clear</span></span>
<span><span class="fu"><a href="reference/stata_run.html">stata_run</a></span><span class="op">(</span><span class="st">"summarize"</span><span class="op">)</span></span>
<span><span class="co">#&gt; . summarize</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     Variable |        Obs        Mean    Std. Dev.       Min        Max</span></span>
<span><span class="co">#&gt; -------------+---------------------------------------------------------</span></span>
<span><span class="co">#&gt;          mpg |         32    20.09062    6.026948       10.4       33.9</span></span>
<span><span class="co">#&gt;          cyl |         32      6.1875    1.785922          4          8</span></span>
<span><span class="co">#&gt;         disp |         32    230.7219    123.9387       71.1        472</span></span>
<span><span class="co">#&gt;           hp |         32    146.6875    68.56287         52        335</span></span>
<span><span class="co">#&gt;         drat |         32    3.596563    .5346787       2.76       4.93</span></span>
<span><span class="co">#&gt; -------------+---------------------------------------------------------</span></span>
<span><span class="co">#&gt;           wt |         32     3.21725    .9784574      1.513      5.424</span></span>
<span><span class="co">#&gt;         qsec |         32    17.84875    1.786943       14.5       22.9</span></span>
<span><span class="co">#&gt;           vs |         32       .4375    .5040161          0          1</span></span>
<span><span class="co">#&gt;           am |         32      .40625    .4989909          0          1</span></span>
<span><span class="co">#&gt;         gear |         32      3.6875    .7378041          3          5</span></span>
<span><span class="co">#&gt; -------------+---------------------------------------------------------</span></span>
<span><span class="co">#&gt;         carb |         32      2.8125      1.6152          1          8</span></span>
<span><span class="fu"><a href="reference/stata_run.html">stata_run</a></span><span class="op">(</span><span class="st">"append using $R_mtcars"</span><span class="op">)</span></span>
<span><span class="co">#&gt; . append using $R_mtcars</span></span>
<span><span class="fu"><a href="reference/stata_run.html">stata_run</a></span><span class="op">(</span><span class="st">"display _N"</span><span class="op">)</span></span>
<span><span class="co">#&gt; . display _N</span></span>
<span><span class="co">#&gt; 64</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="knitr">knitr<a class="anchor" aria-label="anchor" href="#knitr"></a>
</h2>
<p><code>statable</code> integrates with knitr allowing you to run Stata code chunks in knitr or rmarkdown documents. To do so, you must first import the package with <code><a href="https://statable.jamesatkins.com">library(statable)</a></code> so knitr knows what to do with <code>stata</code> chunks. Then add a chunk like the following.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>```{stata}</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>use $R_mtcars, clear</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>summarize</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>```</span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/james-atkins/statable/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/james-atkins/statable/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing statable</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.jamesatkins.com" class="external-link">James Atkins</a> <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.jamesatkins.com" class="external-link">James Atkins</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
